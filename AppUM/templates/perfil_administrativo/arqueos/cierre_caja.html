{% extends "perfil_administrativo/padre_perfil_administrativo.html" %}
{% load static %}

{% block contenidoQueCambia %}

<div class="container mt-4">
    <div class="card shadow-sm border-0">
        <div class="card-body text-center">
            <h5 class="card-title text-danger">
                <i class="fas fa-exclamation-triangle"></i> Confirmación de Cierre de Caja
            </h5>
            <hr>
            <form action="" method="POST">
                {% csrf_token %}
                {% if not message %}
                    <p class="mb-4">¿Está seguro de que desea cerrar la caja del día? Esta acción no se puede deshacer y el sistema generará un reporte final del estado de la caja.</p>
                    <div class="d-flex justify-content-center">
                        <button type="submit" class="btn btn-danger mx-2">
                            <i class="fas fa-lock"></i> Confirmar Cierre
                        </button>
                        <a href="{% url 'Arqueos' %}" class="btn btn-secondary mx-2">
                            <i class="fas fa-undo"></i> Cancelar
                        </a>
                    </div>
                {% endif %}
            </form>

            {% if message %}
                <div class="alert alert-success mt-4">
                    <h6><i class="fas fa-check-circle"></i> Cierre de Caja Exitoso</h6>
                    <p>{{ message }}</p>
                    <p>El reporte final se ha generado correctamente. Para volver al menú de arqueos, haz click <a href="{% url 'Arqueos' %}">aquí</a>.</p>
                </div>
            {% else %}
                <p class="text-danger mt-3">{{ error_message }}</p>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}
